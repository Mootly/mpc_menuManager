class mpc_menuManager{constructor(e="open",s="closed",t="hidden",i="active",l=!1){this.mouseTrigger=!1,this.openClass=e,this.closedClass=s,this.hiddenClass=t,this.activeClass=i,this.keepTheIndex=l,window.addEventListener("mousedown",(()=>{this.mouseTrigger=!0})),window.addEventListener("mouseup",(()=>{this.mouseTrigger=!1}))}state_change(e=null,s=null){let t=s.querySelector(this.opTrigger),i=s.querySelector(this.opBody),l="",a="";"toggle"==e?(s.classList.toggle(this.openClass),s.classList.toggle(this.closedClass),t.classList.toggle(this.openClass),t.classList.toggle(this.closedClass),i.classList.toggle(this.hiddenClass)):e&&("open"==e?(l=this.closedClass,a=this.openClass,i.classList.remove(this.hiddenClass)):(l=this.openClass,a=this.closedClass,i.classList.add(this.hiddenClass)),s.classList.add(a),s.classList.remove(l),t.classList.add(a),t.classList.remove(l))}init_menu(e=".nav-subcontainer",s=".nav-sublist",t=".nav-subheader",i=null){this.opBlock=e,this.opTrigger=t,this.opBody=s,this.op2Init=i??e,window.addEventListener("load",(()=>{this.menuElems2Close=document.querySelectorAll(this.op2Init),this.menuElemsAll=document.querySelectorAll(this.opBlock);const t="/((index)|(default)).w{2,4}/g";let i=this.keepTheIndex||-1==location.pathname.search(t)?location.pathname:location.pathname.slice(0,location.pathname.search(t)),l=this.menuElemsAll[0].closest("nav").querySelector('[href="'+i+'"]');l&&l.parentElement.classList.add(this.activeClass),this.menuElems2Close?.forEach((e=>{e.querySelector(".active")||(e.classList.remove(this.openClass),e.classList.add(this.closedClass),e.querySelector(s).classList.add(this.hiddenClass))})),this.menuElemsAll?.forEach((s=>{s.setAttribute("tabindex","0"),s.addEventListener("click",(e=>{let s=e.target.parentNode;this.state_change("toggle",s)})),s.addEventListener("focusin",(s=>{if(!this.mouseTrigger){let t=s.target.matches(e)?s.target:s.target.closest(e);this.state_change("open",t)}})),s.addEventListener("focusout",(t=>{t.target;if(!this.mouseTrigger&&!s.querySelector(".active")){let s=t.target.matches(e)?t.target:t.target.closest(e);this.state_change("close",s)}}))}))}))}init_mobile(e="",s=""){window.addEventListener("load",(()=>{this.mobiTrigger=document.querySelector(s),this.mobiMenu=document.querySelector(e)}))}}
//# sourceMappingURL=menuManager.min.js.map