class mpc_menuManager{constructor(e="open",s="closed",t="hidden",i="show",l="active",o=!1){this.mouseTrigger=!1,this.openClass=e,this.closedClass=s,this.hiddenClass=t,this.visibleClass=i,this.hiddenMobi="mobile-"+t,this.visibleMobi="mobile-"+i,this.activeClass=l,this.keepTheIndex=o,window.addEventListener("mousedown",(()=>{this.mouseTrigger=!0})),window.addEventListener("mouseup",(()=>{this.mouseTrigger=!1}))}state_change(e=null,s=null,t=null,i=null,l=null){let o=t,a=i,n=l,c="",h="",d="",r="";i||(a=o.querySelector(this.opTrigger),n=o.querySelector(this.opBody)),"mobile"==s?(d=this.hiddenMobi,r=this.visibleMobi):(d=this.hiddenClass,r=this.visibleClass),"toggle"==e?(o?.classList.toggle(this.openClass),o?.classList.toggle(this.closedClass),a?.classList.toggle(this.openClass),a?.classList.toggle(this.closedClass),n?.classList.toggle(r),n?.classList.toggle(d)):e&&("open"==e?(c=this.closedClass,h=this.openClass,n?.classList.add(r),n?.classList.remove(d)):(c=this.openClass,h=this.closedClass,n?.classList.remove(r),n?.classList.add(d)),o?.classList.add(h),o?.classList.remove(c),a?.classList.add(h),a?.classList.remove(c))}init_menu(e=".nav-subcontainer",s=".nav-sublist",t=".nav-subheader",i=null){this.opBlock=e,this.opTrigger=t,this.opBody=s,this.op2Init=i??e,window.addEventListener("DOMContentLoaded",(()=>{this.menuElems2Close=document.querySelectorAll(this.op2Init),this.menuElemsAll=document.querySelectorAll(this.opBlock);const t="/((index)|(default)).w{2,4}/g";let i=this.keepTheIndex||-1==location.pathname.search(t)?location.pathname:location.pathname.slice(0,location.pathname.search(t)),l=this.menuElemsAll[0].closest("nav").querySelector('[href="'+i+'"]');l&&l.parentElement.classList.add(this.activeClass),this.menuElems2Close?.forEach((e=>{e.querySelector(".active")||(e.classList.remove(this.openClass),e.classList.add(this.closedClass),e.querySelector(s).classList.add(this.hiddenClass))})),this.menuElemsAll?.forEach((s=>{s.setAttribute("tabindex","0"),s.addEventListener("click",(e=>{let s=e.target.parentNode;this.state_change("toggle","submenu",s)})),s.addEventListener("focusin",(s=>{if(!this.mouseTrigger){let t=s.target.matches(e)?s.target:s.target.closest(e);this.state_change("open","submenu",t)}})),s.addEventListener("focusout",(t=>{t.target;if(!this.mouseTrigger&&!s.querySelector(".active")){let s=t.target.matches(e)?t.target:t.target.closest(e);this.state_change("close","submenu",s)}}))}))}))}init_mobile(e=null,s=null,t=!0,i=null){window.addEventListener("DOMContentLoaded",(()=>{let l=t?"mobile":"menu",o=s?document.querySelector(s):null,a=e?document.querySelector(e):null,n=i?document.querySelector(i):null;o?.addEventListener("click",(()=>{this.state_change("toggle","mobile",n,o,a)})),a.addEventListener("focusin",(()=>{this.mouseTrigger||this.state_change("open",l,n,o,a)})),a.addEventListener("focusout",(()=>{this.mouseTrigger||this.state_change("close",l,n,o,a)}))}))}}
//# sourceMappingURL=menuManager.min.js.map