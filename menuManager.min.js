class mpc_menuManager{constructor(e="open",s="closed",t="hidden",l="show",i="active",a=!1){this.mouseTrigger=!1,this.openClass=e,this.closedClass=s,this.hiddenClass=t,this.visibleClass=l,this.hiddenMobi="mobile-"+t,this.visibleMobi="mobile-"+l,this.activeClass=i,this.keepTheIndex=a,window.addEventListener("mousedown",(()=>{this.mouseTrigger=!0})),window.addEventListener("mouseup",(()=>{this.mouseTrigger=!1}))}state_change(e=null,s=null,t=null,l=null,i=null){let a=t,o=l,n=i,c="",h="",d="",r="";l||(o=a.querySelector(this.opTrigger),n=a.querySelector(this.opBody)),"mobile"==s?(d=this.hiddenMobi,r=this.visibleMobi):(d=this.hiddenClass,r=this.visibleClass),"toggle"==e?(a?.classList.toggle(this.openClass),a?.classList.toggle(this.closedClass),o?.classList.toggle(this.openClass),o?.classList.toggle(this.closedClass),n?.classList.toggle(r),n?.classList.toggle(d)):e&&("open"==e?(c=this.closedClass,h=this.openClass,n?.classList.add(r),n?.classList.remove(d)):(c=this.openClass,h=this.closedClass,n?.classList.remove(r),n?.classList.add(d)),a?.classList.add(h),a?.classList.remove(c),o?.classList.add(h),o?.classList.remove(c))}init_menu(e=".nav-subcontainer",s=".nav-sublist",t=".nav-subheader",l=null){this.opBlock=e,this.opTrigger=t,this.opBody=s,this.op2Init=l??e,window.addEventListener("DOMContentLoaded",(()=>{this.menuElems2Close=document.querySelectorAll(this.op2Init),this.menuElemsAll=document.querySelectorAll(this.opBlock);const t="/((index)|(default)).w{2,4}/g";let l=this.keepTheIndex||-1==location.pathname.search(t)?location.pathname:location.pathname.slice(0,location.pathname.search(t));if(this.menuElemsAll.length<1)return;let i=(this.menuElemsAll[0]?this.menuElemsAll[0].closest("nav"):null).querySelector('[href="'+l+'"]');i&&i.parentElement.classList.add(this.activeClass),this.menuElems2Close?.forEach((e=>{e.querySelector(".active")?(e.classList.add(this.openClass),e.classList.remove(this.closedClass)):(e.classList.remove(this.openClass),e.classList.add(this.closedClass),e.querySelector(s).classList.add(this.hiddenClass))})),this.menuElemsAll?.forEach((s=>{s.setAttribute("tabindex","0"),s.addEventListener("click",(e=>{let s=e.target.parentNode;this.state_change("toggle","submenu",s)})),s.addEventListener("focusin",(s=>{if(!this.mouseTrigger){let t=s.target.matches(e)?s.target:s.target.closest(e);this.state_change("open","submenu",t)}})),s.addEventListener("focusout",(t=>{t.target;if(!this.mouseTrigger&&!s.querySelector(".active")){let s=t.target.matches(e)?t.target:t.target.closest(e);this.state_change("close","submenu",s)}}))}))}))}init_mobile(e=null,s=null,t=!0,l=null){window.addEventListener("DOMContentLoaded",(()=>{let i=t?"mobile":"menu",a=s?document.querySelector(s):null,o=e?document.querySelector(e):null,n=l?document.querySelector(l):null;a?.addEventListener("click",(()=>{this.state_change("toggle","mobile",n,a,o)})),o?.addEventListener("focusin",(()=>{this.mouseTrigger||this.state_change("open",i,n,a,o)})),o?.addEventListener("focusout",(()=>{this.mouseTrigger||this.state_change("close",i,n,a,o)}))}))}}
//# sourceMappingURL=menuManager.min.js.map